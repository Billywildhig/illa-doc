---
title: Event handler
description: 在组件中添加事件处理程序来触发当组件的状态改变时的事件。
---

# Event handler

在组件中添加事件处理程序来触发当组件的状态改变时的事件。

## 如何使用

<div style={{
position: "relative",
paddingBottom: "calc(56.81216931216932% + 41px)",
height: 0
}}><iframe src="https://demo.arcade.software/s1XL3fmsMvTjMcOXxpkC?embed" frameborder="0" loading="lazy"  allowfullscreen="true" style={{position: "absolute", top: 0, left: 0, width: "100%", height: "100%", colorScheme: "light"}}></iframe></div>

## 配置选项

### 事件

用于设置如何触发动作。 例如，如果我们想要在刷新数据网格(表格)组件时触发respi1，我们可以设置事件为“刷新”。 如果我们想要在数据网格(表)组件被更改时触发respi2，我们可以设置事件为“更改排序”。 如果我们想在点击按钮时触发respi3，我们可以将事件设置为“点击”。

### 行 动

#### 触发动作

用于触发此应用创建的操作

| **参数**       | **需要或不需要**           | **描述**                |
| ------------ | -------------------- | --------------------- |
| 动作名称         | `requird`            | 选择在这个应用程序中创建的操作       |

#### 控制组件

| **参数**          | **需要或不需要**           | **描述**                                                                                                                                   |
| --------------- | -------------------- | ---------------------------------------------------------------------------------------------------------------------------------------- |
| 组件              | `requird`            | 选择添加到当前页面的组件                                                                                                                             |
| 方法              | `requird`            | 用于设置控制组件做些什么。 不同的方法需要不同的参数。 详细解释见下文。                                                                                                     |

##### 设置值

用于设置值。

###### 参数

`value`: 该值可以是依赖组件类型的 `string` 或 `number` 或 `object` 或 `boolean` 或 `array` 。

###### 支持的组件

| 组件                                                                                                                                                                  | 参数类型                                                     | 示例                                                                                                                                                                 |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 输入，可编辑文本，文本区域，除去，选项，无线电小组，无线电按钮，无线电按钮，日期日期，日期时间，步骤，文本，条形进展，圆圈进度                                                                                                     | `string`                                                 |                                                                                                                                                                    |
| `Hello world`                                                                                                                                                       |                                                          |                                                                                                                                                                    |

| JSON Editor
                                                                                                                                            | `string`
                                                      | `{ "firstName": "Chuck", "lastName": "Norris", "age": 80, "bio": "Roundhouse kicking asses since 1940", "password": "noneed", "telephone": "1-800-KICKASS" }`              |
| Timeline                                                                                                                                                | `string`, Separate the values of different nodes via comma (,) | `The first milestone,The second milestone`                                                                                                                          |
| Number Input, Slider, Rate                                                                                                                              | `number`                                                       | `{{1000}}`                                                                                                                                                          |
| Switch                                                                                                                                                  | `boolean`                                                      | `{{false}}`                                                                                                                                                         |
| JSON Schema Form, Form                                                                                                                                  | `object`                                                       | `{{ { "firstName": "Chuck", "lastName": "Norris", "age": 80, "bio": "Roundhouse kicking asses since 1940", "password": "noneed", "telephone": "1-800-KICKASS" } }}` |
| Checkbox Group, Cascader                                                                                                                                | `array`                                                        | `{{["media_source_2","campaign_2-1"]}}`                                                                                                                             |

##### 清除值

用于清除该值。

###### 参数

没有参数

###### 支持的组件

输入，号码输入，可编辑文本，文本区域，上传，JSON编辑器，JSON方案格式，开关，选择多选项，复选框组， Cascader, Radio Group, Radio Button, Date, Date Range, Data Time, Text, Rate, Bar Progress, Circle Progress, Timeline, Divider

##### 聚焦

用于关注组件

###### 参数

没有参数

###### 支持的组件

Input, number Input, Editable Text, Textarea, JSON Editor, Rich text editor, Radio Group,

##### validate

当您设置了一个组件的验证条件，例如电子邮件格式，URL格式， 或必填字段，您可以使用 `validate` 函数来确定它是否符合要求。 如果它不符合要求，将显示验证消息。

###### 参数

没有参数

###### 支持的组件

输入，号码输入，可编辑文本，文本区域，上传，选项，多选项，复选框组，无线电按钮，日期范围，日期范围，日期范围，日期时间，Form，速率

##### 清除验证

用于清除验证消息。

###### 参数

没有参数

###### 支持的组件

输入，号码输入，可编辑文本，文本区域，上传，选项，多选项，复选框组，无线电按钮，日期范围，日期范围，日期时间，日期时间，时间速率

##### setSelectedValue

用于设置多选中的值。 参数应该是数组。

###### 参数

`value`：用于设置选定选项的字符串数组。

###### 支持的组件

多选

###### 示例

```JavaScript
{{["Option 1", "Option 3"]}}
```

##### 提交

提交表单数据。 当提交方法被触发时，我们将首先验证表单数据。 如果存在验证错误，表格提交将被阻止，相应的错误信息将被显示。 只有在验证成功后，提交才会继续。

###### 参数

没有参数

###### 支持的组件

JSON 方案表，表单

##### 切换

用于切换值从true到false或false 到true。

###### 参数

没有参数

###### 支持的组件

交换机

##### setStartOfRange

用于设置范围滑块的默认起始值

###### 参数

“起始值”：用来设置起始值的数字。

###### 支持的组件

Range Slider

###### 示例

```JavaScript
{{10}}
```

##### setEndOfRange

用于设置范围滑块的默认结束值

###### 参数

“最终值”：用来设定最终值的数字。

###### 支持的组件

Range Slider

###### 示例

```JavaScript
{{10}}
```

##### setStartValue

用于设置默认起始值

###### 参数

`开始日期/时间`: 用来设置起始时间/日期的字符串。

###### 支持的组件

日期范围、 时间范围

###### 示例

```JavaScript
2023-09-09
```

##### 设定终结值

用于设置默认结束值

###### 参数

`结束日期/时间`: 用来设置结束时间/日期的字符串。

###### 支持的组件

日期范围、 时间范围

###### 示例

```JavaScript
2023-10-09
```

##### 设置值InArray

用于设置值为 true 的开关

###### 参数

`value`：用于设置其值为真的选项的字符串数组。

###### 支持的组件

切换组

###### 示例

```JavaScript
{{["Option 1", "Option 3"]}}
```

##### 设置CurrentView密钥

使用键值作为视图的字符串来设置显示的视图。

###### 参数

`Key`: 用于设置要显示的视图的字符串。  密钥在容器中配置

###### 支持的组件

容器

###### 示例

```JavaScript
查看 1
```

##### 设置当前视图索引

使用从视图的 0 开始的数字值来设置显示的视图。

###### 参数

“索引”：一个数值。 使用视图索引来设置要显示的视图。 索引从0开始。

###### 支持的组件

容器

###### 示例

```JavaScript
{{1}}
```

##### 显示下次视图

用于显示下一个视图。 参数是一个布尔值，用于决定是否从结束返回起始。

###### 参数

`循环回到start`: 一个布尔值 (使用切换到设置) 用于设置是否回循环到开始。

###### 支持的组件

容器

##### 显示下一个可视视图

用于显示下一个可见视图。 不同于“showNextView(boolean)”函数的行为，此函数通过在过渡期间跳过任何隐藏视图，提供更好的视图切换功能。 参数是一个布尔值，用于决定是否从结束返回起始。

###### 参数

`循环回到start`: 一个布尔值 (使用切换到设置) 用于设置是否回循环到开始。

###### 支持的组件

容器

##### 显示上一个视图

用于显示上一个视图。 参数是一个布尔值，用于决定是否从开始回到结束。

###### 参数

`循环开始后退`: 一个布尔值 (使用切换到设置) 用来设置是否循环开始返回.

###### 支持的组件

容器

###### 显示上一个可视视图

用于显示上一个可见视图。 不同于“show以前视图”函数的行为，此函数通过在过渡期间跳过任何隐藏视图，提供更好的视图切换功能。 参数是一个布尔值，用于决定是否从开始回到结束。

###### 参数

`循环开始后退`: 一个布尔值 (使用切换到设置) 用来设置是否循环开始返回.

###### 支持的组件

容器

##### reset

用于重置值为默认值。

###### 参数

没有参数

###### 支持的组件

形式

##### 重置值

用于重置值为默认值。

###### 参数

没有参数

###### 支持的组件

步骤

##### openModal

用于打开模式

###### 参数

没有参数

###### 支持的组件

模式

##### 关闭模式

用于关闭模式

###### 参数

没有参数

###### 支持的组件

模式

##### setImageUrl

用于设置图像源 URL。 它可以是 Base64 或 URL 指向网络上的图像。

###### 参数

`value`: 用于设置图像源的字符串值。 它可以是 URL 或 base64 。

###### 支持的组件

图片

###### 示例

```JavaScript
https://cloud-api.illacloud.com/dive/f/83095b77-1180-487e-86db-ff117e6083e5
```

```JavaScript
data:image/png;base64,iVBORw0KGOAAA...II
```

##### 清除回复消息

用于清除输入框上方引用的回复消息。

###### 参数

没有参数

###### 支持的组件

聊天

##### 设置初级值

用于设置统计的主要价值。

###### 参数

“主值”：用来设定统计主要值的数值。

###### 支持的组件

统计

###### 示例

```JavaScript
{{10000}}
```

##### 重置原始值

用于重置主值为默认主要统计值。

###### 参数

没有参数

###### 支持的组件

统计

##### setFileUrl

用于设置文件 URL。 它可以是 Base64 或 URL 指向网络上的 PDF。

###### 参数

`PDF 源`: 用于设置 PDF 源的字符串值。 它可以是 URL 或 base64 。

###### 支持的组件

PDF

###### 示例

```JavaScript
https://upload.wikimedia.org/wikipedia/commons/e/ee/Guideline_No._GD-2214_Marman_Clamp_Systems_Design_Guidelines.pdf
```

##### 播放

用于播放视频或音频。

###### 参数

没有参数

###### 支持的组件

视频，音频

##### 暂停

用于暂停视频或音频。

###### 参数

没有参数

###### 支持的组件

视频，音频

##### 显示控制

用于设置是否显示控件。

###### 参数

`显示控件`: 用于设置是否显示控件的布尔值。

###### 支持的组件

视频

##### 设置视频 Url

用于设置视频的 URL。 它可以是 Base64 或媒体网站上的视频 URL。

###### 参数

`Video source`: 用于设置视频源的字符串值。 它可以是 URL 或 base64 。

###### 支持的组件

视频

###### 示例

```JavaScript
video1.setVideoUrl("https://youtu.be/8sUovZlBh_M")
```

##### setVolume(数字)

用于设置音量。 参数是一个值介于 0 到 1 之间。

###### 支持的组件

视频，音频

###### 示例

`video1.setVolume(0.5)`

##### 设置速度

用于设置速度。

###### 参数

`Speed`: 一个值介于 0.25 到 2 之间

###### 支持的组件

视频，音频

###### 示例

```JavaScript
{{0.5}}
```

##### 设置循环

用于设置是否循环播放。

###### 参数

“循环”: 用于设置循环或非循环的布尔值

###### 支持的组件

视频，音频

###### 示例

```JavaScript
{{true}}
```

##### 搜索

用于寻求特定时间位置。

###### 参数

“时间(s)”: 以秒为单位测量的数字值。 例如，要寻求时间位置 5:35，您将使用价值335。

###### 支持的组件

视频，音频

###### 示例

```JavaScript
{{335}}
```

##### 静音

用于设置静音与否。

###### 参数

`Mute`: 一个布尔值

###### 支持的组件

视频，音频

##### setAudioUrl

用于设置音频的 URL。 它可以是 Base64 或媒体网站上的视频 URL。

###### 参数

`音频源`: 用于设置音频源的字符串值。 它可以是 URL 或 base64 。

###### 支持的组件

音频

###### 示例

```JavaScript
https://www.soundhelix.com/exampes/mp3/SoundHelix-Song-1.mp3
```

##### 切换下一个

用于切换到下一个图像。

###### 参数

没有参数

###### 支持的组件

Carousel

##### 切开上一个

用于切换到上一张图像。

###### 参数

没有参数

###### 支持的组件

Carousel

##### setSrc

用于设置 IFram 的源URL。

###### 参数

`value`: 用于设置URL的字符串值。

###### 支持的组件

IFrame

###### 示例

```JavaScript
https://www.nasa.gov/
```

##### setMarkers

用于设置地图上的标记。

###### Paramater

`Markers`：对象数组。 每个对象的纬度和经度字段应与右手面板中设置的字段相同。

###### 支持的组件

地图

###### 示例

```JavaScript
{{[
{
    "lat":57.14009563040699,
    "lng":-114.6018657894011
 },{
     "lat":55.40432513713809,
     "lng":-112.98252263795787
 },{
     "lat":57.841288754888545,
     "lng":-103.3518657894011
 }
 ]}}
```

##### resetMarkers

用于重置标记为默认标记。

###### 参数

没有参数

###### 支持的组件

地图

#### 运行脚本

通过写脚本，您可以按顺序触发多个事件。 [了解更多](https://docs.illacloud.com/run-script)

#### 转到网址

##### 参数

`URL`：字符串值。 要打开的 URL

“新标签：布尔值。 用于设置是否在新标签页上打开 URL。

#### 显示通知

##### 参数

`Title`: String value. 通知的标题

`Description`: 字符串值。 通知的描述

`Type`: 字符串值。 通过下拉菜单设置类型：成功、 错误、 警告、 信息

`Duration(ms)`: 数字值。 显示通知的持续时间。

#### 复制到剪贴板

##### 参数

`value`: 字符串值。 要复制的字符串。

#### 设置路由器

当应用程序中有多个页面时，此函数可以用于在不同页面间切换。

##### 参数

`页面`: 用来设置重定向到哪个页面。

`子页面`: 用来设置在页面参数中选择的子页面重定向.

#### 保存到 ILLA 驱动器

##### 参数

`扩展名`: 字符串'. 上传到 ILLA 驱动器后具有文件扩展名的名称。

`文件数据`: 字符串。 Base64 或原始文件数据，例如JSON、CSV、纯文本等。

\`文件类型：字符串。 以下值之一：自动、纯文本、JPEG、PNG、SVG、JSON、CSV、TSV、Excel(.xlsx)。 当使用"自动"时，我们将尝试根据文件扩展名或文件数据来确定文件类型。

`Folder`：字符串。 文件上传的目标文件夹。 将上传到根文件夹留空。

“允许匿名”：粗体 用于设置是否允许匿名用户访问。 如果您计划将您的应用程序设置为公开，必须启用匿名访问。 为了您的数据的安全性，文件或文件夹必须放在匿名文件夹中。

“替换”：布尔值。 用于设置在同一目录中有具有相同名称的文件时, 用新文件替换现有文件或自动重命名新文件。

#### 从 ILLA 驱动程序下载

##### 参数

`下载信息`: 包括小网址和文件ID在内的对象数组。 您可以使用组件驱动器从ILLA 驱动器中选择文件并通过 drivePicker1.value 获取“下载信息”。

`另存为Zip`：布尔。 用于设置是否以Zip格式下载文件。

#### 下载

用于导出数据到您的设备。

##### 参数

`文件类型`: 以下值之一: 自动, 纯文本, JPEG, PNG, SVG, JSON, CSV, TSV, Excel(.xlsx). 当使用"自动"时，我们将尝试根据文件扩展名或文件数据来确定文件类型。

`File name`: 具有扩展名的名称。

“数据”：文件的数据。

#### 设置全局数据

##### 设置全局数据值

用于设置 gobalData 的值

###### 参数

`key`: 全局数据的显示名称。

`value`: 要设置的值

##### 设置全局数据在

当全局数据是数组或对象时， 使用 setGlobalDataIn来修改一个数组中特定索引的对应值或修改对象中特定键的对应值。

###### 参数

`key`: 全局数据的显示名称。

“路径”：你打算在数组或对象中更新的值的索引。 例如，要在数组中设置第二个值，路径是 1 (索引)。 要设置名为key1的属性值，路径是key1。

`value`: 要设置的值

#### 设置本地存储

##### 清除

用于清理本地存储

###### 参数

没有参数

##### 设置值

###### 参数

`key`: 本地存储的显示名称。

“值”：键值的值。

### 仅当运行时

用于设置事件处理程序触发时间的布尔值。 例如，当输入 1 为空时，事件处理程序无法被触发: "{{input1.value!==""&input1.value!==undefined}}"
