---
title: Dispiegamento self-hosted
description: ILLA Builder offre un'esperienza di implementazione senza soluzione di continuità che ti permette di distribuire ILLA Builder ad una velocità sorprendente all'interno del tuo Virtual Private Cloud (VPC).
---

# Dispiegamento self-hosted

## Docker

1.  Avvia Docker
2.  Inserire il seguente comando nel terminale per installare l'immagine ufficiale:

`docker pull illasoft/illa-builder:latest`

## CLI

### Scarica ILLA CLI e distribuisci

Se hai installato Rust, puoi facilmente costruire + installare l'ultima versione di ILLA CLI con cargo:

`cargo install illa`

`illa deploy --self --port=10000`

Lo strumento **cargo** completerà il download dell'ILLA CLI con le sue dipendenze sorgente, costruirlo e installarlo nel percorso del bin di carico in modo che possiamo eseguirlo. Una volta installato, è possibile eseguire ILLA CLI con il comando **illa**.

In alternativa, puoi scaricare ILLA CLI per il tuo sistema operativo qui:

-   **[Windows](https://github.com/illacloud/illa/releases/latest/download/illa-x86_64-win.zip)**
-   **[Linux](https://github.com/illacloud/illa/releases/latest/download/illa-x86_64-linux.tar.gz)**
-   **[Mac](https://github.com/illacloud/illa/releases/latest/download/illa-x86_64-macos.tar.gz)**

Se scarichi dai link sopra riportati, i passaggi sono leggermente diversi rispetto al download dell'ILLA CLI da **cargo** . Dopo aver scaricato la CLI, dovrai renderla eseguibile. Prendiamo l’illa-linux per esempio:

```Plaintext
# download illa cli binary file
> wget <https://github.com/illacloud/illa/releases/latest/download/illa-x86_64-linux.tar.gz>

# unpack the file
> tar -zxvf illa-x86_64-linux.tar.gz

> cd illa-x86_64-linux

> chmod +x illa

# run the illa cli
> ./illa
```

### Verifica dei prerequisiti dell'installazione autosostenuta

Questi porti 5432, 9999 e 8000 dovrebbero rimanere per il costruttore ILLA

Il seguente comando controllerà i prerequisiti dell'installazione self-hosted sul sistema operativo:

```Plaintext
> illa doctor
```

### Distribuendo ILLA Builder

Una volta che l'ILLA CLI è stato installato, è possibile eseguire un'installazione self-hosted o cloud.

Puoi semplicemente distribuire un ILA Builder autoospitato eseguendo il seguente comando:

```Plaintext
# la porta su cui è possibile accedere al Costruttore ILLA può essere cambiata
# <SERVER_ADDRESS> dovrebbe essere il tuo server cloud pubblico ip, default localhost
> deploy illa --self --port=10000 --server-addr=<SERVER_ADDRESS>
```

Ora puoi accedere al ILLA Builder: <http://localhost:10000>

### Aggiornamento Costruttore ILLA

Per aggiornare il Costruttore ILLA con le ultime immagini docker, utilizzare il seguente comando:

```Plaintext
> illa update --self
```

### Altre operazioni

```Plaintext
# elenco ILLA Builder
> illa list --self

# fermare il ILLA Builder
> illa stop --self

# rimuovere ILLA Builder
> illa remove --self

# rimozione forzata del ILLA Builder in esecuzione e dati persistenti
> sudo illa remove --force --self --data

# riavviare il ILLA Builder
> illa restart --self

# help information
> illa help
```

## Kubernetes

### Descrizione

Costruisci illa-in-one immagine e eseguilo da k8s sulla tua macchina. Puoi controllare il file script nella cartella [scripts](https://github.com/illacloud/deploy-illa-manually/blob/main/kubernetes/scripts) per maggiori dettagli.

Nota:

Consigliamo vivamente di implementare i nostri strumenti di distribuzione automatica [illa-cli](https://github.com/illacloud/illa).

E per il momento non supportiamo Apple Silicon M1 (arco darwin-arm64).

### Esegui con un'immagine ufficiale sottile

Installare GNU make e digitare:

```JavaScript
make deploy
```

o semplicemente eseguire:

```JavaScript
/bin/bash scripts/deploy.sh
```

questo comando tirerà illasoft immagine all-in-one ufficiale e la distribuirà sul tuo cluster di Kubernetes.

### Per Archiviazione Persistente Database

Modifica [illa-builder.yaml](https://github.com/illacloud/deploy-illa-manually/blob/main/kubernetes/illa-builder.yaml) e aggiungi la tua configurazione di archiviazione persistente IAAS.

### Per Configurazione HTTPS

È possibile indirizzare il NodePort al vostro gateway di ingresso cluster di Kubernetes e riscrivere alla porta 443 e aggiungere cert https nel vostro gateway di ingresso.

Oppure, puoi distribuire manualmente un gateway di ingresso nel tuo server Kubernetes, configurazione in questo modo:

```JavaScript
static_resources:
  listeners:
  - name: ↓ _listener
    address:
      socket_address:
        address: 0. .0.0
        port_value: 443
    filter_chains:
    - filters:
      - name: envoy. ilters.network.http_connection_manager
        typed_config:
          "@type": type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3. ttpConnectionManager
          stat_prefix: ↓ _listener
          route_config:
            nome: local_route
            virtual_hosts:
            - nome: illa_builder
              domini:
              - "illa. ourdomiano. om" # sostituisci con il tuo dominio
              routes:
              - match:
                  prefisso: "/"route:
                  cluster: illa_builder
          http_filters:
          - name: envoy. ilters.http. esterno
            typed_config:
              "@type": tipo. oogleapis. om/envoy.extensions.filters.http.router.v3.Router
      transport_socket:
        name: envoy.transport_sockets. ls
        typed_config:
          "@type": type.googleapis.com/envoy.extensions.transport_sockets.tls.v3. ownstreamTlsContext
          common_tls_context:
            tls_certificates:
            # sostituiscilo con il tuo file cert
            - certificate_chain:
                nomefile: /your-cert-folder/fullchain. em
              private_key:
                nome file: /your-cert-folder/privkey. em

  clusters:
  - name: illa_builder
    type: STRICT_DNS
    lb_policy: ROUND_ROBIN
    connect_timeout: 10s
    load_assignment:
      cluster_name: illa_builder
      endpoints:
      - lb_endpoints:
        - endpoint:
            address:
              socket_address:
                address: illa-builder
                port_value: 80
```

## Distribuisci rapidamente

È possibile distribuire ILLA in modo notevolmente veloce, si prega di seguire le istruzioni riportate di seguito:

Per prima cosa, scarica questo [file docker](https://github.com/illacloud/deploy-illa-manually/tree/main/docker) sul tuo computer, quindi esegui il seguente codice.

```JavaScript
cd docker;
/bin/bash ./scripts/run-official-image.sh;
```

E accedi con il nome utente e la password predefiniti:

Nome Utente: **`root`**

Password: **`password`** (solo modalità self-host).
