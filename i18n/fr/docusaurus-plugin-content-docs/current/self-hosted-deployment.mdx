---
title: Déploiement auto-hébergé
description: ILLA Builder offre une expérience de déploiement transparente qui vous permet de déployer ILLA Builder à une vitesse étonnante dans votre propre Cloud privé virtuel (VPC).
---

# Déploiement auto-hébergé

## Docker

1.  Démarrer Docker
2.  Entrez la commande suivante dans le terminal pour installer l'image officielle:

`docker pull illasoft/illa-builder:latest`

## CLI

### Télécharger ILLA CLI et déployer

Si Rust est installé, vous pouvez facilement construire + installer la dernière version de CLI ILLA avec cargo:

`cargo install illa`

`Déploiement illa --self --port=10000`

L'outil **cargo** va terminer le téléchargement de la CLI ILLA avec ses dépendances source, et l'installer dans le chemin de la corbeille pour que nous puissions l'exécuter. Une fois installé, vous pouvez exécuter le CLI ILLA avec la commande **illa**.

Vous pouvez également télécharger le CLI ILLA pour votre système d'exploitation ici:

-   **[Windows](https://github.com/illacloud/illa/releases/latest/download/illa-x86_64-win.zip)**
-   **[Linux](https://github.com/illacloud/illa/releases/latest/download/illa-x86_64-linux.tar.gz)**
-   **[Mac](https://github.com/illacloud/illa/releases/latest/download/illa-x86_64-macos.tar.gz)**

Si vous téléchargez à partir des liens ci-dessus, les étapes sont légèrement différentes de celles du téléchargement du CLI ILLA depuis **cargo** . Après avoir téléchargé le CLI vous devrez le rendre exécutable. Prenons l’exemple de illa-linux :

```Plaintext
# download illa cli binary file
> wget <https://github.com/illacloud/illa/releases/latest/download/illa-x86_64-linux.tar.gz>

# unpack the file
> tar -zxvf illa-x86_64-linux.tar.gz

> cd illa-x86_64-linux

> chmod +x illa

# run the illa cli
> ./illa
```

### Vérification des conditions préalables à l'installation auto-hébergée

Ces ports 5432, 9999 et 8000 devraient rester pour le constructeur ILLA

La commande suivante vérifiera les conditions préalables d'une installation auto-hébergée sur votre système d'exploitation :

```Plaintext
> illa doctor
```

### Déploiement du constructeur ILLA

Une fois le CLI ILLA installé, vous pouvez effectuer une installation auto-hébergée ou dans le cloud.

Vous pouvez simplement déployer un constructeur ILA auto-hébergé en exécutant la commande suivante :

```Plaintext
# le port sur lequel le constructeur ILLA peut être accédé peut être modifié
# le <SERVER_ADDRESS> devrait être l'IP publique de votre serveur cloud, localhost
> illa deploy --self --port=10000 --server-addr=<SERVER_ADDRESS>
```

Maintenant, vous pouvez accéder au Builder ILLA : <http://localhost:10000>

### Mise à jour du constructeur ILLA

Pour mettre à jour le constructeur ILLA avec les dernières images de docker, utilisez la commande suivante :

```Plaintext
> Mise à jour illa --self
```

### Autres opérations

```Plaintext
# list the ILLA Builder
> illa list --self

# stop the ILLA Builder
> illa stop --self

# remove the ILLA Builder
> illa remove --self

# forced remove --self 

 # remove of the running ILLA Builder and persistent data
> sudo illa remove --force --self --data

# restart the ILLA Builder
> illa restart --self

# help information
> illa help help help help help
```

## Kubernetes

### Libellé

Construisez une image illa tout-en-un et exécutez-la en k8s sur votre machine. Vous pouvez consulter le fichier de scripts dans le dossier [scripts](https://github.com/illacloud/deploy-illa-manually/blob/main/kubernetes/scripts) pour plus de détails.

Note :

Nous vous recommandons fortement de déployer avec nos outils de déploiement automatique [illa-cli](https://github.com/illacloud/illa).

Et pour le moment nous ne supportons pas Apple Silicon M1 (arc darwin-arm64).

### Exécuter avec une image de slim officielle

Installez la marque GNU et tapez :

```JavaScript
faire un déploiement
```

ou exécutez simplement :

```JavaScript
/bin/bash scripts/deploy.sh
```

cette commande va tirer illasoft image officielle du tout-en-un et la déployer sur votre grappe de serveurs Kubernetes.

### Pour le stockage persistant de la base de données

Modifiez [illa-builder.yaml](https://github.com/illacloud/deploy-illa-manually/blob/main/kubernetes/illa-builder.yaml), et ajoutez votre configuration de stockage persistant IAAS dessus.

### Pour la configuration HTTPS

Vous pouvez acheminer le NodePort vers votre passerelle d'entrée de cluster Kubernetes et réécrire sur le port 443, et ajouter le cert https dans votre passerelle d'entrée.

Ou, vous pouvez déployer manuellement une passerelle d'entrée sur votre serveur Kubernetes, la configuration comme ceci :

```JavaScript
static_resources:
  écoutes :
  - nom: https_listener
    adresse:
      socket_address:
        adresse: 0. .0.0
        port_value: 443
    filter_chains:
    - filtres:
      - nom: envoy. ilters.network.http_connection_manager
        typed_config:
          "@type": type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3. ttpConnectionManager
          stat_prefix: https_listener
          route_config:
            nom: local_route
            virtual_hosts:
            - nom: illa_builder
              domaines:
              - "illa. ourdomien. om" # remplacez par votre domaine
              routes:
              - match:
                  prefix: "/"route:
                  cluster: illa_builder
          http_filters:
          - name : envoy. http
            typed_config externe :
              "@type": type. oogleapis. om/envoy.extensions.filters.http.router.v3.Router
      transport_socket:
        nom: envoy.transport_sockets. ls
        typed_config:
          "@type": type.googleapis.com/envoy.extensions.transport_sockets.tls.v3. ownstreamTlsContext
          common_tls_context:
            tls_certificates:
            # remplacez ceci par votre fichier cert
            - certificate_chain:
                filename: /your-cert-folder/fullchain. em
              private_key:
                filename: /your-cert-folder/privkey. em

  clusters:
  - nom: illa_builder
    type: STRICT_DNS
    lb_policy: ROUND_ROBIN
    connect_timeout: 10s
    load_assignment:
      cluster_builder
      endpoints:
      - lb_endpoints:
        - endpoint
            address:
              socket_address:
                address: illa-builder
                port_value: 80
```

## Déploiement rapide

Vous pouvez déployer ILLA d'une manière remarquablement rapide, veuillez suivre les instructions ci-dessous :

Premièrement, veuillez télécharger ce [fichier docker](https://github.com/illacloud/deploy-illa-manually/tree/main/docker) sur votre ordinateur, puis exécuter le code suivant.

```JavaScript
cd docker;
/bin/bash ./scripts/run-official-image.sh;
```

Et connectez-vous avec le nom d'utilisateur et le mot de passe par défaut :

Nom d'utilisateur : **`root`**

Mot de passe : **`mot de passe`** (mode self-host uniquement).
